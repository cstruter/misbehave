<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="./another-component.html">

<dom-module id="base-component">

<template>
  <h1 id="greeting">Greetings! I've replaced what was there before =D</h1>
  <paper-button>I'm a paper button! =D</paper-button>
  
</template>

<script>
(function() {

  var BaseDefinition = {

    is: 'base-component',

    properties: {

      hello: {
        type: String,
        value: 'Hello'
      },

      readMeOnly: {
        type: String,
        value: 'Protected',
        readOnly: true
      },

      sawEvent: {
        type: Boolean,
        value: false
      },

      observeMe: {
        type: Object,
        value: function() {
          return {};
        }
      },

      readyCount: {
        type: Number,
        value: 0
      },

      attachedCount: {
        type: Number,
        value: 0
      },
      
      this$Greeting: {
        type: Object,
        value: null
      },
      
      queriedGreeting: {
        type: Object,
        value: null
      }

    },

    observers: [
      '_baseObserve(observeMe)'
    ],

    listeners: {
      'base-custom-event': '_seeEvent'
    },

    ready: function() {

      this.readyCount++;
    },

    attached: function() {

      this.attachedCount++;
      
      console.log("following logs from base-component");
      this.queriedGreeting = Polymer.dom(this.root).querySelector("#greeting");
      console.log("this.$.greeting");
      this.this$Greeting = this.$.greeting;
      console.log(this.$.greeting);
      console.log("Polymer.dom(this.root).querySelector('#greeting')");
      console.log(this.queriedGreeting);
    },

    sayHello: function() {
      
      return this.hello;
    },

    _seeEvent: function() {

      this.sawEvent = true;
    },

    _baseObserve: function(observeMe) {

      if (observeMe.hasOwnProperty('hasBeenObserved')) {
        observeMe.hasBeenObserved = true;
      }
    },

    getBaseDefinition: function() {

      return BaseDefinition;
      
    }

  };

  Polymer(BaseDefinition);

})();
</script>

</dom-module>
